"use strict";(self.webpackChunkangularexampleapp=self.webpackChunkangularexampleapp||[]).push([[439],{3439:(ve,H,_)=>{_.r(H),_.d(H,{USER_ROUTES:()=>De});var I=_(3054),A=_(3933),e=_(8256),f=_(7579),g=_(2722),c=_(6895),b=_(6626),N=_(4004),p=_(1641);const B=p.Ps`
  query searchHeroes(
    $query: String!
    $after: String!
    $first: Int!
    $direction: OrderDirection!
    $field: HeroOrderField!
    $skip: Int!
  ) {
    searchHeroes(
      query: $query
      after: $after
      first: $first
      orderBy: { direction: $direction, field: $field }
      skip: $skip
    ) {
      edges {
        cursor
        node {
          id
          realName
          alterEgo
          image
          public
          usersVoted {
            firstname
          }
        }
      }
      pageInfo {
        endCursor
        hasNextPage
        hasPreviousPage
        startCursor
      }
      totalCount
    }
  }
`,X=p.Ps`
  mutation createHero($alterEgo: String!, $realName: String!) {
    createHero(data: { alterEgo: $alterEgo, realName: $realName }) {
      id
      realName
      alterEgo
      votes
      image
      public
      user {
        id
        email
      }
      createdAt
      updatedAt
    }
  }
`,q=p.Ps`
  mutation removeHero($heroId: String!) {
    removeHero(heroId: $heroId) {
      id
    }
  }
`,J=p.Ps`
  mutation voteHero($heroId: String!) {
    voteHero(heroId: $heroId) {
      id
      realName
      alterEgo
      image
      public
      user {
        id
        email
      }
      createdAt
      updatedAt
    }
  }
`;var $=(()=>(($||($={})).DESC="desc",$))(),w=(()=>((w||(w={})).USERS_VOTED="usersVoted",w))();class S{constructor(o){this.apollo=o}searchHeroes(o){return this.apollo.query({query:B,variables:{query:o.query,after:o.after,first:o.first,direction:o.orderBy.direction,field:o.orderBy.field,skip:o.skip}}).pipe((0,N.U)(t=>{const r=t.data?.searchHeroes;return r?r.edges?.length?r.edges.map(i=>i.node):[]:null}))}createHero(o){return this.apollo.mutate({mutation:X,variables:o}).pipe((0,N.U)(t=>t.data?.createHero||null))}deleteHero(o){return this.apollo.mutate({mutation:q,variables:{heroId:o}}).pipe((0,N.U)(t=>t.data?.removeHero||null))}voteForHero(o){return this.apollo.mutate({mutation:J,variables:{heroId:o}}).pipe((0,N.U)(t=>t.data?.voteHero||null))}}S.\u0275fac=function(o){return new(o||S)(e.LFG(p._M))},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"});var k=_(3803),F=_(9485),d=_(901),O=_(3266);const z=p.Ps`
  query me {
    me {
      id
      email
      firstname
      heroes {
        id
        realName
        alterEgo
      }
    }
  }
`;class C{constructor(o){this.apollo=o}getMe(){return this.apollo.query({query:z}).pipe((0,N.U)(o=>o.data?.me||null))}}C.\u0275fac=function(o){return new(o||C)(e.LFG(p._M))},C.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"});var T=_(9990);function j(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10),e._UZ(2,"img",11),e.TgZ(3,"div",12)(4,"p",13),e._uU(5),e.qZA(),e.TgZ(6,"small",14),e._uU(7),e.qZA()(),e.TgZ(8,"div",15),e._uU(9),e.ynx(10),e.SDv(11,16),e.BQk(),e.TgZ(12,"button",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.voteForHero(a))}),e._UZ(13,"i",18),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(2),e.MGl("alt","",t.realName," image"),e.Q6J("ngSrc",t.image),e.xp6(3),e.Oqu(t.alterEgo),e.xp6(2),e.Oqu(t.realName),e.xp6(2),e.hij(" ",t.usersVoted.length," ")}}class P{constructor(o,t,r,i,a,l,u,h){this.authRepository=o,this.heroService=t,this.userService=r,this.utilService=i,this.alertService=a,this.changeDetectorRef=l,this.locale=u,this.document=h,this.destroy$=new f.x,this.trackHero=k.v.trackHero,this.window=this.document.defaultView,this.publicHeroes=[]}ngOnInit(){this.authRepository.$user.pipe((0,g.R)(this.destroy$)).subscribe(o=>{o&&(this.user=o,this.checkUserLanguage())}),this.loadPublicHeroes(),this.changeDetectorRef.detectChanges()}checkUserLanguage(){this.user?.language!==this.locale&&(this.window.location.href=(this.user?.language&&this.user.language!==b.X.defaultLang?`/${this.user.language}`:"")+A._.dashboard)}loadPublicHeroes(){this.heroService.searchHeroes({query:"",after:"",first:5,orderBy:{direction:$.DESC,field:w.USERS_VOTED},skip:0}).pipe((0,g.R)(this.destroy$)).subscribe(o=>{o&&(this.publicHeroes=o,this.changeDetectorRef.markForCheck())})}voteForHero(o){this.heroService.voteForHero(o.id).pipe((0,g.R)(this.destroy$)).subscribe({next:()=>{this.loadPublicHeroes()},error:t=>{if(!this.utilService.checkNetworkError(t)){const i=t.graphQLErrors;if(i.length)for(const a of i)a.code===F.s.DOUBLE_VOTED&&this.alertService.create(d.DO.DOUBLE_VOTED)}this.changeDetectorRef.detectChanges()}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}P.\u0275fac=function(o){return new(o||P)(e.Y36(O.O),e.Y36(S),e.Y36(C),e.Y36(T.f),e.Y36(d.c9),e.Y36(e.sBO),e.Y36(e.soG),e.Y36(c.K0))},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-dashboard-page"]],standalone:!0,features:[e.jDz],decls:9,vars:2,consts:function(){let n,o,t;return n="Top 5 public heroes",o=" This heroes are available to all the users and you can vote for them! ",t="votes",[[1,"container","mt-4"],[1,"row","mb-5"],[1,"col-12"],[1,"text-center","mb-2"],n,[1,"text-center","mb-3"],o,[1,"row"],["class","col-12 col-sm-6 col-lg-4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-sm-6","col-lg-4"],[1,"card","mb-3"],["height","207","priority","","width","414",1,"card-img-top",3,"ngSrc","alt"],[1,"card-body"],[1,"card-text","card__hero-alter-ego"],[1,"card-text","card__hero-real-name"],[1,"card-footer","d-flex","justify-content-between"],t,[1,"dashboard__action-button","p-0",3,"click"],[1,"icon","fa-solid","fa-heart"]]},template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e.SDv(4,4),e.qZA(),e.TgZ(5,"p",5),e.SDv(6,6),e.qZA(),e.TgZ(7,"div",7),e.YNc(8,j,14,5,"div",8),e.qZA()()()()),2&o&&(e.xp6(8),e.Q6J("ngForOf",t.publicHeroes)("ngForTrackBy",t.trackHero))},dependencies:[c.sg,c.Zd],styles:[".card__hero-alter-ego[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.card__hero-real-name[_ngcontent-%COMP%]{font-size:.9rem}.dashboard__action-button[_ngcontent-%COMP%]{border:none;background:transparent;align-items:center;display:flex}.dashboard__action-button[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%]{color:#dc3545;font-size:1.3rem}.dashboard__action-button[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%]:hover{animation:fa-beat .5s infinite linear}.dashboard__action-button[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]{color:#bd2130}"],changeDetection:0});var Y=_(2765);class m{constructor(o,t){this.authRepository=o,this.router=t}canActivate(){return new Promise(o=>this.authRepository.isLoggedInValue()?o(!0):this.router.navigate([I.V.home]).then(()=>o(!1)))}}m.\u0275fac=function(o){return new(o||m)(e.LFG(O.O),e.LFG(Y.F0))},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});var s=_(433),Q=_(9794),G=_(3074),V=_(9254),Z=_(5217);function W(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"input",13),e.TgZ(2,"label",14),e._UZ(3,"i",15),e.ynx(4),e.SDv(5,16),e.BQk(),e.qZA(),e._UZ(6,"app-form-errors",17),e.qZA()),2&n){e.oxw();const t=e.MAs(1),r=e.oxw();e.xp6(1),e.Q6J("formControl",r.firstname),e.xp6(5),e.Q6J("control",r.firstname)("formRef",t)}}function K(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"input",18),e.TgZ(2,"label",19),e._UZ(3,"i",20),e._uU(4," Email "),e.qZA(),e._UZ(5,"app-form-errors",17),e.qZA()),2&n){e.oxw();const t=e.MAs(1),r=e.oxw();e.xp6(1),e.Q6J("formControl",r.email),e.xp6(4),e.Q6J("control",r.email)("formRef",t)}}function ee(n,o){1&n&&(e.ynx(0),e._UZ(1,"span",21),e.BQk())}function oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sendForm())}),e.TgZ(2,"div",6),e.YNc(3,W,7,3,"div",7),e.qZA(),e.TgZ(4,"div",6),e.YNc(5,K,6,3,"div",7),e.qZA(),e.TgZ(6,"div",8)(7,"button",9),e.YNc(8,ee,2,0,"ng-container",10),e.ynx(9),e.SDv(10,11),e.BQk(),e.qZA()()()}if(2&n){const t=e.MAs(1),r=e.oxw();e.ekj("needs-validation",!t.submitted)("was-validated",t.submitted),e.Q6J("formGroup",r.profileForm),e.xp6(3),e.Q6J("ngIf",r.firstname),e.xp6(2),e.Q6J("ngIf",r.email),e.xp6(2),e.ekj("is-loading-primary",r.isButtonProfileLoading),e.Q6J("disabled",r.isButtonProfileLoading),e.xp6(1),e.Q6J("ngIf",r.isButtonProfileLoading)}}class R{constructor(o,t,r,i,a){this.formBuilder=o,this.changeDetectorRef=t,this.authService=r,this.alertService=i,this.utilService=a,this.destroy$=new f.x,this.isButtonProfileLoading=!1}ngOnInit(){this.firstname=new s.NI(this.user?.firstname||"",[s.kI.required,s.kI.minLength(2)]),this.email=new s.NI({value:this.user?.email||"",disabled:!0}),this.profileForm=this.formBuilder.group({firstname:this.firstname,email:this.email})}sendForm(){if(this.profileForm?.valid&&this.user){this.isButtonProfileLoading=!0;const o=this.profileForm.getRawValue();this.authService.updateUser({...this.user,firstname:o.firstname}).pipe((0,g.R)(this.destroy$)).subscribe({next:()=>{this.handleUpdateUserResponse()},error:t=>{this.handleUpdateUserError(t)}})}}handleUpdateUserResponse(){this.alertService.create(d.DO.USER_SAVED),this.isButtonProfileLoading=!1,this.changeDetectorRef.detectChanges()}handleUpdateUserError(o){const t=this.utilService.checkNetworkError(o);t||o.graphQLErrors.length&&this.alertService.create(d.DO.UPDATE_USER_ERROR),this.isButtonProfileLoading=t,this.changeDetectorRef.detectChanges()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}R.\u0275fac=function(o){return new(o||R)(e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z.e),e.Y36(d.c9),e.Y36(T.f))},R.\u0275cmp=e.Xpm({type:R,selectors:[["app-edit-profile"]],inputs:{user:"user"},standalone:!0,features:[e.jDz],decls:5,vars:1,consts:function(){let n,o,t;return n="Personal data",o="Save",t="First name",[[1,"pt-2","pt-lg-3","px-0","px-lg-3"],[1,"mb-2"],n,[3,"needs-validation","was-validated","formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["profileFormRef","ngForm"],[1,"col-12","col-lg-6","col-xl-5","col-xxl-4"],["class","form-floating mb-3",4,"ngIf"],[1,"col-12","col-lg-6","col-xl-5","col-xxl-4","text-center","mb-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],o,[1,"form-floating","mb-3"],["id","floating-first-name","maxlength","150","minlength","2","required","","trim","","type","text",1,"form-control",3,"formControl"],["for","floating-first-name",1,"text-start"],[1,"icon","fa-solid","fa-circle-user","me-1"],t,[1,"invalid-feedback",3,"control","formRef"],["id","floating-email","lowercase","","maxlength","150","placeholder","name@example.com","trim","","type","email",1,"form-control","cursor-not-allowed",3,"formControl"],["for","floating-email",1,"text-start"],[1,"icon","fa-solid","fa-at"],["aria-hidden","true","role","status",1,"spinner-border","text-white","spinner-border-sm","me-1"]]},template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h3",1),e.ynx(2),e.SDv(3,2),e.BQk(),e.qZA(),e.YNc(4,oe,11,11,"form",3),e.qZA()),2&o&&(e.xp6(4),e.Q6J("ngIf",t.profileForm))},dependencies:[s.UX,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.oH,s.sg,Q.$,G.A,V.D,c.O5],encapsulation:2,changeDetection:0});const te=["btnReset"];function ne(n,o){1&n&&(e.TgZ(0,"p",26),e.ynx(1),e.SDv(2,27),e.BQk(),e.qZA())}function re(n,o){1&n&&(e.ynx(0),e._UZ(1,"span",28),e.BQk())}function se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sendForm())}),e.TgZ(2,"div",6)(3,"div",7),e._UZ(4,"input",8),e.TgZ(5,"label",9),e._UZ(6,"i",10),e.ynx(7),e.SDv(8,11),e.BQk(),e.qZA(),e._UZ(9,"app-form-errors",12),e.qZA()(),e.TgZ(10,"div",13)(11,"div",7)(12,"input",14),e.NdJ("keyup",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updatePassword())}),e.qZA(),e.TgZ(13,"label",15),e._UZ(14,"i",10),e.ynx(15),e.SDv(16,16),e.BQk(),e.qZA(),e.YNc(17,ne,3,0,"p",17),e.qZA(),e.TgZ(18,"div",18)(19,"i",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showPassword=!i.showPassword)})("keyup",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showPassword=!i.showPassword)}),e.qZA()()(),e.TgZ(20,"div",20)(21,"button",21,22),e._uU(23,"Reset"),e.qZA(),e.TgZ(24,"button",23),e.YNc(25,re,2,0,"ng-container",24),e.ynx(26),e.SDv(27,25),e.BQk(),e.qZA()()()}if(2&n){const t=e.MAs(1),r=e.oxw();e.ekj("needs-validation",!t.submitted)("was-validated",t.submitted),e.Q6J("formGroup",r.changePasswordForm),e.xp6(4),e.Q6J("formControl",r.oldPassword),e.xp6(5),e.Q6J("control",r.oldPassword)("formRef",t),e.xp6(3),e.ekj("is-invalid",r.newPassword.errors&&r.newPassword.errors.passwordStrength),e.Q6J("formControl",r.newPassword)("minLength",6)("type",r.showPassword?"text":"password"),e.xp6(5),e.Q6J("ngIf",t.touched&&r.changePasswordForm.errors&&r.changePasswordForm.errors.samePasswords),e.xp6(2),e.ekj("active",r.showPassword),e.xp6(5),e.ekj("is-loading-primary",r.isButtonChangePasswordLoading),e.Q6J("disabled",r.isButtonChangePasswordLoading),e.xp6(1),e.Q6J("ngIf",r.isButtonChangePasswordLoading)}}class D{constructor(o,t,r,i,a,l){this.formBuilder=o,this.changeDetectorRef=t,this.authService=r,this.authRepository=i,this.alertService=a,this.utilService=l,this.destroy$=new f.x,this.checkPasswords=()=>this.oldPassword.value===this.newPassword.value?{samePasswords:!0}:null,this.isButtonChangePasswordLoading=!1,this.showPassword=!1,this.oldPassword=new s.NI(""),this.newPassword=new s.NI("",{validators:[s.kI.minLength(6)],updateOn:"change"}),this.changePasswordForm=this.formBuilder.group({oldPassword:this.oldPassword,newPassword:this.newPassword},{validators:this.checkPasswords})}sendForm(){if(this.changePasswordForm?.valid){this.isButtonChangePasswordLoading=!0;const o=this.changePasswordForm.getRawValue();this.authService.changePassword(o.oldPassword,o.newPassword).pipe((0,g.R)(this.destroy$)).subscribe({next:()=>{this.handleChangePasswordResponse()},error:t=>{this.handleChangePasswordError(t)}})}}handleChangePasswordResponse(){this.alertService.create(d.DO.PASSWORD_CHANGED),this.isButtonChangePasswordLoading=!1,this.btnReset?.nativeElement.click(),this.changeDetectorRef.detectChanges()}handleChangePasswordError(o){const t=this.utilService.checkNetworkError(o);if(!t){const r=o.graphQLErrors;if(r.length)for(const i of r)i.code===F.s.BAD_CREDENTIALS&&this.alertService.create(d.DO.CURRENT_PASSWORD_ERROR)}this.isButtonChangePasswordLoading=t,this.changeDetectorRef.detectChanges()}updatePassword(){this.newPassword.updateValueAndValidity({emitEvent:!1})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}D.\u0275fac=function(o){return new(o||D)(e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z.e),e.Y36(O.O),e.Y36(d.c9),e.Y36(T.f))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-change-password"]],viewQuery:function(o,t){if(1&o&&e.Gf(te,5),2&o){let r;e.iGM(r=e.CRH())&&(t.btnReset=r.first)}},standalone:!0,features:[e.jDz],decls:5,vars:1,consts:function(){let n,o,t,r,i;return n="Change your password",o="Current password",t="New password",r="Change password",i="Passwords must be different from each other",[[1,"pt-2","pt-lg-3","px-0","px-lg-3"],[1,"mb-2"],n,[3,"needs-validation","was-validated","formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["changePasswordFormRef","ngForm"],[1,"col-12","col-lg-6","col-xl-5","col-xxl-4"],[1,"form-floating","mb-3"],["id","floating-old-password","minlength","8","placeholder","Password","required","","type","password",1,"form-control",3,"formControl"],["for","floating-old-password",1,"text-start"],[1,"icon","fa-solid","fa-lock","me-1"],o,[1,"invalid-feedback",3,"control","formRef"],[1,"col-12","col-lg-6","col-xl-5","col-xxl-4","password-container"],["autocomplete","","id","floating-new-password","placeholder","Password","required","",1,"form-control",3,"formControl","minLength","type","keyup"],["for","floating-new-password",1,"text-start"],t,["class","mt-2 text-danger",4,"ngIf"],[1,"password-eye-icon-container"],[1,"icon","fa-solid","fa-eye",3,"click","keyup"],[1,"col-12","col-lg-6","col-xl-5","col-xxl-4","text-center"],["type","reset",1,"d-none"],["btnReset",""],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],r,[1,"mt-2","text-danger"],i,["aria-hidden","true","role","status",1,"spinner-border","text-white","spinner-border-sm","me-1"]]},template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h3",1),e.ynx(2),e.SDv(3,2),e.BQk(),e.qZA(),e.YNc(4,se,28,20,"form",3),e.qZA()),2&o&&(e.xp6(4),e.Q6J("ngIf",t.changePasswordForm))},dependencies:[s.UX,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.oH,s.sg,G.A,c.O5],encapsulation:2,changeDetection:0});var ie=_(2340);function ae(n,o){if(1&n&&(e.TgZ(0,"form",4,5)(2,"div",6)(3,"p",7),e.SDv(4,8),e.qZA(),e.TgZ(5,"div",9),e._UZ(6,"input",10),e.TgZ(7,"label",11),e._uU(8," Espa\xf1ol "),e.qZA()(),e.TgZ(9,"div",12),e._UZ(10,"input",13),e.TgZ(11,"label",14),e._uU(12," English "),e.qZA()()()()),2&n){const t=e.MAs(1),r=e.oxw();e.ekj("needs-validation",!t.submitted)("was-validated",t.submitted),e.Q6J("formGroup",r.selectLanguageForm)}}class v{constructor(o,t,r,i,a,l){this.formBuilder=o,this.authService=t,this.alertService=r,this.authRepository=i,this.utilService=a,this.document=l,this.destroy$=new f.x,this.window=this.document.defaultView}ngOnInit(){this.language=new s.NI(this.user?.language||b.X.defaultLang),this.selectLanguageForm=this.formBuilder.group({language:this.language}),this.language.valueChanges.pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.sendForm()})}sendForm(){if(this.selectLanguageForm?.valid&&this.user){const o=this.selectLanguageForm.getRawValue();this.authService.updateUser({...this.user,language:o.language}).pipe((0,g.R)(this.destroy$)).subscribe({next:()=>{this.window.location.href=`${ie.N.domain}${o.language!==b.X.defaultLang?`/${o.language}`:""}${A._.myAccount}`},error:t=>{this.handleChangePasswordError(t)}})}}handleChangePasswordError(o){this.utilService.checkNetworkError(o)||o.graphQLErrors.length&&this.alertService.create(d.DO.UPDATE_USER_ERROR)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}v.\u0275fac=function(o){return new(o||v)(e.Y36(s.qu),e.Y36(Z.e),e.Y36(d.c9),e.Y36(O.O),e.Y36(T.f),e.Y36(c.K0))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-change-language"]],inputs:{user:"user"},standalone:!0,features:[e.jDz],decls:5,vars:1,consts:function(){let n,o;return n="Select your language",o="The page will be reloaded.",[[1,"pt-2","pt-lg-3","px-0","px-lg-3"],[1,"mb-2"],n,[3,"needs-validation","was-validated","formGroup",4,"ngIf"],[3,"formGroup"],["selectLanguageFormRef","ngForm"],[1,"col-12","col-lg-6","col-xl-5","col-xxl-4"],[1,"small","mb-2","mb-md-3"],o,[1,"form-check","d-flex","justify-content-center","justify-content-lg-start","mb-2"],["formControlName","language","id","spanish","name","language","type","radio","value","es",1,"form-check-input","me-1"],["for","spanish",1,"form-check-label"],[1,"form-check","d-flex","justify-content-center","justify-content-lg-start"],["formControlName","language","id","english","name","language","type","radio","value","en",1,"form-check-input","me-1"],["for","english",1,"form-check-label"]]},template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h3",1),e.ynx(2),e.SDv(3,2),e.BQk(),e.qZA(),e.YNc(4,ae,13,5,"form",3),e.qZA()),2&o&&(e.xp6(4),e.Q6J("ngIf",t.selectLanguageForm))},dependencies:[s.UX,s._Y,s.Fj,s._,s.JJ,s.JL,s.sg,s.u,c.O5],encapsulation:2,changeDetection:0});var _e=_(7091);const le=["closeModal"];function ce(n,o){if(1&n&&(e.TgZ(0,"form",23,24)(2,"p",1),e.ynx(3),e.SDv(4,25),e.BQk(),e.qZA(),e.TgZ(5,"div")(6,"p"),e._uU(7),e.ynx(8),e.SDv(9,26),e.BQk(),e.qZA(),e._UZ(10,"hr"),e.TgZ(11,"div",27)(12,"div",28)(13,"label",29),e.ynx(14),e._uU(15,"Email"),e.BQk(),e.qZA(),e._UZ(16,"input",30)(17,"app-form-errors",31),e.qZA(),e.TgZ(18,"div",28)(19,"label",32),e.ynx(20),e.SDv(21,33),e.BQk(),e.qZA(),e._UZ(22,"input",34)(23,"app-form-errors",31),e.qZA(),e.TgZ(24,"div",28)(25,"label",35),e.ynx(26),e.tHW(27,36),e.TgZ(28,"strong"),e._UZ(29,"em",37),e.qZA(),e.N_p(),e.BQk(),e.qZA(),e._UZ(30,"input",38)(31,"app-form-errors",31),e.qZA()()()()),2&n){const t=e.MAs(1),r=e.oxw();e.ekj("needs-validation",!t.submitted)("was-validated",t.submitted),e.Q6J("formGroup",r.deleteAccountForm),e.xp6(7),e.hij("",r.numberOfHeroes," "),e.xp6(9),e.Q6J("formControl",r.email),e.xp6(1),e.Q6J("control",r.email)("formRef",t),e.xp6(5),e.Q6J("formControl",r.password),e.xp6(1),e.Q6J("control",r.password)("formRef",t),e.xp6(7),e.Q6J("formControl",r.confirm),e.xp6(1),e.Q6J("control",r.confirm)("formRef",t)}}function de(n,o){1&n&&(e.ynx(0),e._UZ(1,"span",39),e.BQk())}class U{constructor(o,t,r,i,a,l,u,h){this.formBuilder=o,this.changeDetectorRef=t,this.authService=r,this.authRepository=i,this.alertService=a,this.router=l,this.utilService=u,this.document=h,this.destroy$=new f.x,this.userEmailValidator=M=>M.value!==this.user?.email?{notYourEmail:!0}:null,this.confirmValidator=M=>{const E=this.window.document.getElementById("text-to-write");return M.value!==E?.innerText?{confirmDelete:E?.innerText}:null},this.window=this.document.defaultView,this.numberOfHeroes="-",this.isButtonDeleteAccountLoading=!1,this.password=new s.NI(""),this.email=new s.NI("",[s.kI.required,this.userEmailValidator.bind(this)]),this.confirm=new s.NI("",[this.confirmValidator.bind(this)]),this.deleteAccountForm=this.formBuilder.group({email:this.email,password:this.password,confirm:this.confirm})}sendForm(){if(this.deleteAccountForm?.valid){this.isButtonDeleteAccountLoading=!0;const o=this.deleteAccountForm.getRawValue();this.authService.deleteAccount(o.password).pipe((0,g.R)(this.destroy$)).subscribe({next:()=>{this.handleDeleteAccountResponse()},error:t=>{this.handleDeleteAccountError(t)}})}}handleDeleteAccountResponse(){this.isButtonDeleteAccountLoading=!1,this.router.navigate([_e.j.logout],{queryParams:{alertId:d.DO.ACCOUNT_DELETED}})}handleDeleteAccountError(o){const t=this.utilService.checkNetworkError(o);if(!t){const r=o.graphQLErrors;if(r.length)for(const i of r)i.code===F.s.BAD_CREDENTIALS&&(this.alertService.create(d.DO.CURRENT_PASSWORD_ERROR),this.closeModal?.nativeElement.click())}this.isButtonDeleteAccountLoading=t,this.changeDetectorRef.detectChanges()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}function ue(n,o){if(1&n&&(e.TgZ(0,"div",24)(1,"div",25)(2,"div",26),e._UZ(3,"img",27),e.qZA()(),e.TgZ(4,"div",28)(5,"div",29)(6,"p",30),e._uU(7),e.qZA(),e.TgZ(8,"small",31),e._uU(9),e.qZA(),e.TgZ(10,"small",31),e.SDv(11,32),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(7),e.hij(" ",t.user.firstname," "),e.xp6(2),e.hij(" ",t.user.email," ")}}function ge(n,o){if(1&n&&(e.TgZ(0,"div",33),e._UZ(1,"app-edit-profile",34)(2,"app-change-password"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("user",t.user)}}function Ee(n,o){if(1&n&&(e.TgZ(0,"div",33),e._UZ(1,"app-change-language",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("user",t.user)}}function fe(n,o){if(1&n&&(e.TgZ(0,"div",33),e._UZ(1,"app-delete-account",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("user",t.user)}}U.\u0275fac=function(o){return new(o||U)(e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z.e),e.Y36(O.O),e.Y36(d.c9),e.Y36(Y.F0),e.Y36(T.f),e.Y36(c.K0))},U.\u0275cmp=e.Xpm({type:U,selectors:[["app-delete-account"]],viewQuery:function(o,t){if(1&o&&e.Gf(le,5),2&o){let r;e.iGM(r=e.CRH())&&(t.closeModal=r.first)}},inputs:{user:"user"},standalone:!0,features:[e.jDz],decls:30,vars:5,consts:function(){let n,o,t,r,i,a,l,u,h,M;return n="Caution!",o="Once you delete your account, " + "\ufffd#8\ufffd" + "there is no going back" + "\ufffd/#8\ufffd" + ". Please be certain.",t="Delete my account",r="Are you sure you want to do this?",i="Cancel plan and delete this account",a="You will immediately delete:",l="created heroes",u="Current password",h="Password",M="To verify, type " + "\ufffd#28\ufffd" + "" + "\ufffd#29\ufffd" + "delete my account" + "\ufffd/#29\ufffd" + "" + "\ufffd/#28\ufffd" + "",[[1,"pt-2","pt-lg-3","px-0","px-lg-3"],[1,"mb-2"],n,[1,"small","mb-2"],[1,"icon","pe-2","fa-solid","fa-circle-exclamation","text-danger"],o,["data-bs-target","#delete-account-modal","data-bs-toggle","modal",1,"btn","btn-outline-danger"],t,["aria-hidden","true","aria-labelledby","delete-account-title","id","delete-account-modal","role","dialog","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content","modal-danger"],[1,"modal-header"],["id","delete-account-title",1,"modal-title"],r,["aria-label","Close","data-bs-dismiss","modal","type","button",1,"btn-close"],["closeModal",""],[1,"icon","fa-solid","fa-xmark"],[1,"modal-body","text-center"],[3,"needs-validation","was-validated","formGroup",4,"ngIf"],[1,"modal-footer","pb-4"],[1,"btn","btn-outline-danger","px-2","px-md-3",3,"disabled","click"],[4,"ngIf"],i,[3,"formGroup"],["deleteAccountFormRef","ngForm"],a,l,[1,"mt-3"],[1,"mb-3"],["for","user-email",1,"form-label","mb-1"],["id","user-email","required","","type","text",1,"form-control","w-100","mx-auto",3,"formControl"],[1,"invalid-feedback","w-100","mx-auto","ps-1",3,"control","formRef"],["for","confirm-delete-password",1,"form-label","mb-1"],u,["id","confirm-delete-password","minlength","8","placeholder",h,"required","","type","password",1,"form-control","w-100","mx-auto",3,"formControl"],["for","confirm-delete-account",1,"form-label","mb-1"],M,["id","text-to-write"],["id","confirm-delete-account","oninput","this.value = this.value.toLowerCase()","required","","trim","","type","text",1,"form-control","w-100","mx-auto",3,"formControl"],["aria-hidden","true","role","status",1,"spinner-border","text-white","spinner-border-sm","me-1"]]},template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h3",1),e.ynx(2),e.SDv(3,2),e.BQk(),e.qZA(),e.TgZ(4,"p",3),e._UZ(5,"i",4),e.ynx(6),e.tHW(7,5),e._UZ(8,"strong"),e.N_p(),e.BQk(),e.qZA(),e.TgZ(9,"p")(10,"button",6),e.ynx(11),e.SDv(12,7),e.BQk(),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"p",12),e.ynx(18),e.SDv(19,13),e.BQk(),e.qZA(),e.TgZ(20,"button",14,15),e._UZ(22,"i",16),e.qZA()(),e.TgZ(23,"div",17),e.YNc(24,ce,32,15,"form",18),e.qZA(),e.TgZ(25,"div",19)(26,"button",20),e.NdJ("click",function(){return t.sendForm()}),e.YNc(27,de,2,0,"ng-container",21),e.ynx(28),e.SDv(29,22),e.BQk(),e.qZA()()()()()()),2&o&&(e.xp6(24),e.Q6J("ngIf",t.deleteAccountForm),e.xp6(2),e.ekj("is-loading-primary",t.isButtonDeleteAccountLoading),e.Q6J("disabled",t.isButtonDeleteAccountLoading||!t.deleteAccountForm.valid),e.xp6(1),e.Q6J("ngIf",t.isButtonDeleteAccountLoading))},dependencies:[s.UX,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.oH,s.sg,G.A,c.O5,s.u5,Q.$],encapsulation:2,changeDetection:0});class L{constructor(o,t,r){this.authRepository=o,this.document=t,this.appConfig=r,this.destroy$=new f.x,this.innerWidth=this.document.defaultView.innerWidth}ngOnInit(){this.authRepository.$user.pipe((0,g.R)(this.destroy$)).subscribe(o=>{o&&(this.user=o)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}L.\u0275fac=function(o){return new(o||L)(e.Y36(O.O),e.Y36(c.K0),e.Y36(b.q))},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-my-account"]],standalone:!0,features:[e.jDz],decls:32,vars:8,consts:function(){let n,o,t,r,i;return n="My account",o="Profile and password",t="Language",r="Delete account",i="Free plan",[[1,"container","mw-100","p-0"],[1,"row"],[1,"col-12"],[1,"card","card-primary","card-section","p-3","text-center","text-md-start"],[1,"mb-2"],n,["class","row d-flex align-items-center",4,"ngIf"],[1,"col-12","pt-2"],[1,"card","card-section","p-3"],["id","accordionFlushExample",1,"accordion","accordion-flush"],[1,"accordion-item"],["id","flush-headingOne",1,"accordion-header"],["aria-controls","flush-collapseOne","aria-expanded","false","data-bs-target","#flush-collapseOne","data-bs-toggle","collapse","type","button",1,"accordion-button"],o,["aria-labelledby","flush-headingOne","id","flush-collapseOne",1,"accordion-collapse","collapse"],["class","accordion-body px-0 pt-lg-1 text-center text-lg-start mb-4",4,"ngIf"],["id","flush-headingThree",1,"accordion-header"],["aria-controls","flush-collapseThree","aria-expanded","false","data-bs-target","#flush-collapseThree","data-bs-toggle","collapse","type","button",1,"accordion-button","collapsed"],t,["aria-labelledby","flush-headingThree","id","flush-collapseThree",1,"accordion-collapse","collapse"],["id","flush-headingFive",1,"accordion-header"],["aria-controls","flush-collapseFive","aria-expanded","false","data-bs-target","#flush-collapseFive","data-bs-toggle","collapse","type","button",1,"accordion-button","collapsed","accordion-button-danger"],r,["aria-labelledby","flush-headingFive","id","flush-collapseFive",1,"accordion-collapse","collapse"],[1,"row","d-flex","align-items-center"],[1,"col-12","col-md-auto","px-0","px-md-4","text-center"],[1,"avatar","avatar-online"],["alt","user avatar","referrerpolicy","no-referrer","src","/assets/images/user.png",1,"w-px-40","h-auto","main-avatar-circle","rounded-circle"],[1,"col-12","col-md-auto","pt-2","px-3"],[1,"flex-grow-1"],[1,"my-account-user-name","d-block","mb-2"],[1,"d-block","mb-1"],i,[1,"accordion-body","px-0","pt-lg-1","text-center","text-lg-start","mb-4"],[3,"user"]]},template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.SDv(5,5),e.qZA(),e.YNc(6,ue,12,2,"div",6),e.qZA()()(),e.TgZ(7,"div",1)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h2",11)(13,"button",12),e.ynx(14),e.SDv(15,13),e.BQk(),e.qZA()(),e.TgZ(16,"div",14),e.YNc(17,ge,3,1,"div",15),e.qZA()(),e.TgZ(18,"div",10)(19,"h2",16)(20,"button",17),e.ynx(21),e.SDv(22,18),e.BQk(),e.qZA()(),e.TgZ(23,"div",19),e.YNc(24,Ee,2,1,"div",15),e.qZA()(),e.TgZ(25,"div",10)(26,"h2",20)(27,"button",21),e.ynx(28),e.SDv(29,22),e.BQk(),e.qZA()(),e.TgZ(30,"div",23),e.YNc(31,fe,2,1,"div",15),e.qZA()()()()()()()),2&o&&(e.xp6(6),e.Q6J("ngIf",t.user),e.xp6(7),e.ekj("collapsed",t.innerWidth<t.appConfig.breakpoints.md),e.xp6(3),e.ekj("show",t.innerWidth>=t.appConfig.breakpoints.md),e.xp6(1),e.Q6J("ngIf",t.user),e.xp6(7),e.Q6J("ngIf",t.user),e.xp6(7),e.Q6J("ngIf",t.user))},dependencies:[c.O5,R,D,v,U],styles:[".main-avatar-circle[_ngcontent-%COMP%]{border:5px solid #fff;width:90px;height:90px}.my-account-user-name[_ngcontent-%COMP%]{letter-spacing:2px}.my-account-email-verified.text-warning[_ngcontent-%COMP%]{color:#030303}"],changeDetection:0});class Se{constructor(o){this.id=o?.id,this.realName=o?.realName,this.alterEgo=o?.alterEgo,this.image=o?.image,this.public=o?.public,this.usersVoted=o?.usersVoted}}var me=_(9490);function he(n,o){1&n&&(e.ynx(0),e.SDv(1,11),e.BQk())}function pe(n,o){1&n&&(e.ynx(0),e.SDv(1,12),e.BQk())}function Oe(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"label",20),e.ynx(2),e.SDv(3,21),e.BQk(),e.qZA(),e.TgZ(4,"div",22),e._UZ(5,"input",23),e.qZA(),e._UZ(6,"app-form-errors",24),e.qZA()),2&n){e.oxw();const t=e.MAs(1),r=e.oxw(2);e.xp6(5),e.Q6J("formControl",r.alterEgo),e.xp6(1),e.Q6J("control",r.alterEgo)("formRef",t)}}function Ce(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"label",25),e.ynx(2),e.SDv(3,26),e.BQk(),e.qZA(),e.TgZ(4,"div",22),e._UZ(5,"input",27),e.qZA(),e._UZ(6,"app-form-errors",24),e.qZA()),2&n){e.oxw();const t=e.MAs(1),r=e.oxw(2);e.xp6(5),e.Q6J("formControl",r.realName),e.xp6(1),e.Q6J("control",r.realName)("formRef",t)}}function Te(n,o){1&n&&(e.ynx(0),e._UZ(1,"span",28),e.BQk())}function Me(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",13,14),e.NdJ("submit",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sendForm())}),e.YNc(2,Oe,7,3,"div",15),e.YNc(3,Ce,7,3,"div",15),e.TgZ(4,"div",16)(5,"button",17),e.YNc(6,Te,2,0,"ng-container",6),e.ynx(7),e.SDv(8,18),e.BQk(),e.qZA()()()}if(2&n){const t=e.MAs(1),r=e.oxw(2);e.ekj("needs-validation",!t.submitted)("was-validated",t.submitted),e.Q6J("formGroup",r.heroForm),e.xp6(2),e.Q6J("ngIf",r.alterEgo),e.xp6(1),e.Q6J("ngIf",r.realName),e.xp6(2),e.ekj("is-loading-primary",r.isButtonLoading),e.Q6J("disabled",r.isButtonLoading||!r.heroSelected),e.xp6(1),e.Q6J("ngIf",r.isButtonLoading)}}function Ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"p",5),e.YNc(3,he,2,0,"ng-container",6),e.YNc(4,pe,2,0,"ng-container",6),e._uU(5),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeModal())}),e._UZ(7,"i",8),e.qZA()(),e.TgZ(8,"div",9),e.YNc(9,Me,9,11,"form",10),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.heroSelected.id),e.xp6(1),e.Q6J("ngIf",t.heroSelected.id),e.xp6(1),e.hij(" ",t.heroSelected.alterEgo," "),e.xp6(4),e.Q6J("ngIf",t.heroForm)}}class x{constructor(o,t,r){this.formBuilder=o,this.heroService=t,this.changeDetectorRef=r,this.destroy$=new f.x,this.translations=me.I,this.isButtonLoading=!1}ngOnChanges(o){o.heroSelected&&(this.heroSelected=o.heroSelected.currentValue,this.heroSelected&&(this.heroForm?this.heroForm.reset():this.createForm()))}createForm(){this.alterEgo=new s.NI("",[s.kI.required]),this.realName=new s.NI("",[s.kI.required]),this.heroForm=this.formBuilder.group({alterEgo:this.alterEgo,realName:this.realName})}sendForm(){this.heroForm?.valid&&this.heroService.createHero(this.heroForm.getRawValue()).pipe((0,g.R)(this.destroy$)).subscribe(o=>{o&&(this.heroesList?.push(o),this.closeModal(),this.changeDetectorRef.detectChanges())})}closeModal(){this.modal?.hide()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}function Ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteHero(a))}),e._UZ(9,"i",17),e.qZA()()()}if(2&n){const t=o.$implicit,r=o.index;e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.alterEgo),e.xp6(2),e.Oqu(t.realName)}}function Pe(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ne,10,3,"tr",15),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.userHeroes)("ngForTrackBy",t.trackHero)}}function Re(n,o){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",18),e.SDv(3,19),e.qZA()(),e.BQk())}x.\u0275fac=function(o){return new(o||x)(e.Y36(s.qu),e.Y36(S),e.Y36(e.sBO))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-hero-modal"]],inputs:{modal:"modal",user:"user",heroSelected:"heroSelected",heroesList:"heroesList"},standalone:!0,features:[e.TTD,e.jDz],decls:3,vars:1,consts:function(){let n,o,t,r,i,a,l;return n="Create a hero",o="Edit",t="Save",r="What's the hero's name?",i="Alter ego",a="Now, the real one",l="Real name",[["aria-hidden","true","aria-labelledby","hero","id","hero-modal","role","dialog","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-header"],["id","hero",1,"modal-title"],[4,"ngIf"],["aria-label","Close","type","button",1,"btn-close",3,"click"],[1,"icon","fa-solid","fa-xmark"],[1,"modal-body","text-center"],["class","exchange-form-container mx-auto",3,"needs-validation","was-validated","formGroup","submit",4,"ngIf"],n,o,[1,"exchange-form-container","mx-auto",3,"formGroup","submit"],["heroFormRef","ngForm"],["class","mb-4",4,"ngIf"],[1,"modal-footer","pb-4"],[1,"btn","btn-primary","px-2","px-md-3","mt-n2",3,"disabled"],t,[1,"mb-4"],["for","alter-ego-form-control",1,"form-label","mb-3"],r,[1,"d-flex","align-items-center"],["id","alter-ego-form-control","placeholder",i,"type","text",1,"form-control","font-awesome",3,"formControl"],[1,"invalid-feedback",3,"control","formRef"],["for","real-name-form-control",1,"form-label","mb-3"],a,["id","real-name-form-control","placeholder",l,"type","text",1,"form-control","font-awesome",3,"formControl"],["aria-hidden","true","role","status",1,"spinner-border","text-white","spinner-border-sm","me-1"]]},template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ae,10,4,"div",2),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("ngIf",t.heroSelected))},dependencies:[c.O5,G.A,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg],styles:[".exchange-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}@media (min-width: 768px){.exchange-form-container[_ngcontent-%COMP%]{max-width:75%}}.dish-container[_ngcontent-%COMP%]{position:relative}.load-dish-icon[_ngcontent-%COMP%]{position:absolute;right:12px;bottom:12px;font-size:1.2rem;color:#0d47a1;cursor:pointer}.form-label[_ngcontent-%COMP%]{font-size:.95rem}.category-MEAT[_ngcontent-%COMP%]{background-color:#ee55334d;border-radius:.3125rem}.category-VEGETABLE[_ngcontent-%COMP%]{background-color:#22aa004d;border-radius:.3125rem}.category-FISH[_ngcontent-%COMP%]{background-color:#007fa24d;border-radius:.3125rem}.category-LEGUME[_ngcontent-%COMP%]{background-color:#9c94634d;border-radius:.3125rem}.category-SOUP[_ngcontent-%COMP%]{background-color:#e177014d;border-radius:.3125rem}.category-PASTA[_ngcontent-%COMP%]{background-color:#e2c3924d;border-radius:.3125rem}.category-EGG[_ngcontent-%COMP%]{background-color:#ddcc224d;border-radius:.3125rem}"],changeDetection:0});class y{constructor(o,t,r,i,a,l,u,h){this.authRepository=o,this.heroService=t,this.userService=r,this.utilService=i,this.alertService=a,this.changeDetectorRef=l,this.locale=u,this.document=h,this.destroy$=new f.x,this.trackHero=k.v.trackHero,this.window=this.document.defaultView,this.userHeroes=[]}ngOnInit(){this.authRepository.$user.pipe((0,g.R)(this.destroy$)).subscribe(o=>{o&&(this.user=o)}),this.loadUserHeroes(),this.heroModal=new bootstrap.Modal("#hero-modal",{}),this.changeDetectorRef.detectChanges()}loadUserHeroes(){this.userService.getMe().pipe((0,g.R)(this.destroy$)).subscribe(o=>{o&&(this.userHeroes=Object.assign([],o.heroes),this.changeDetectorRef.markForCheck())})}openHeroModal(o){this.heroSelected=o||new Se({id:"",realName:"",alterEgo:"",image:"no-id",public:!1,usersVoted:[]}),this.heroModal?.show(),this.changeDetectorRef.markForCheck()}deleteHero(o){this.heroService.deleteHero(o.id).pipe((0,g.R)(this.destroy$)).subscribe(()=>{this.userHeroes=this.userHeroes.filter(t=>t.id!==o.id),this.alertService.create(d.DO.HERO_DELETED),this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}y.\u0275fac=function(o){return new(o||y)(e.Y36(O.O),e.Y36(S),e.Y36(C),e.Y36(T.f),e.Y36(d.c9),e.Y36(e.sBO),e.Y36(e.soG),e.Y36(c.K0))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-my-heroes-page"]],standalone:!0,features:[e.jDz],decls:26,vars:6,consts:function(){let n,o,t,r,i;return n="Your private heroes",o="Create hero",t="Alter-ego",r="Real name",i="You don't have any heroes. Go and create one!",[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"text-center","mb-4"],n,[1,"row","mb-3"],[1,"btn","btn-primary","px-2","px-md-3",3,"click"],o,[1,"table-responsive"],[1,"table","table-success","table-striped"],["scope","col"],t,r,[4,"ngIf"],[3,"heroSelected","heroesList","modal","user"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dashboard__action-button","p-0",3,"click"],[1,"icon","fa-solid","fa-trash"],["colspan","5"],i]},template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e.SDv(4,4),e.qZA(),e.TgZ(5,"div",5)(6,"div",2)(7,"button",6),e.NdJ("click",function(){return t.openHeroModal()}),e.ynx(8),e.SDv(9,7),e.BQk(),e.qZA()()(),e.TgZ(10,"div",1)(11,"div",2)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr"),e._UZ(16,"th",10),e.TgZ(17,"th",10),e.SDv(18,11),e.qZA(),e.TgZ(19,"th",10),e.SDv(20,12),e.qZA(),e._UZ(21,"th",10),e.qZA()(),e.TgZ(22,"tbody"),e.YNc(23,Pe,2,2,"ng-container",13),e.YNc(24,Re,4,0,"ng-container",13),e.qZA()()()()()()()(),e._UZ(25,"app-hero-modal",14)),2&o&&(e.xp6(23),e.Q6J("ngIf",t.userHeroes.length),e.xp6(1),e.Q6J("ngIf",!t.userHeroes.length),e.xp6(1),e.Q6J("heroSelected",t.heroSelected)("heroesList",t.userHeroes)("modal",t.heroModal)("user",t.user))},dependencies:[c.O5,c.sg,x],styles:[".card__hero-alter-ego[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.card__hero-real-name[_ngcontent-%COMP%]{font-size:.9rem}.dashboard__action-button[_ngcontent-%COMP%]{border:none;background:transparent;align-items:center;display:flex}.dashboard__action-button[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%]{color:#dc3545;font-size:1.3rem}.dashboard__action-button[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%]:hover{animation:fa-beat .5s infinite linear}.dashboard__action-button[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]{color:#bd2130}"],changeDetection:0});const De=[{path:A.$.dashboard,component:P,canActivate:[m]},{path:A.$.myHeroes,component:y,canActivate:[m]},{path:A.$.myAccount,component:L,canActivate:[m]},{path:"**",redirectTo:I.X.error404}]}}]);